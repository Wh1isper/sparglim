ARG SPARK_VERSION=3.5.0
FROM wh1isper/spark-connector-server:${SPARK_VERSION}

ARG SPARGLIM_VERSION

RUN pip install sparglim==${SPARGLIM_VERSION}

ENTRYPOINT [ "tini" ,"--"]
CMD [ "sparglim-server", "start" ]

# docker buildx build --platform linux/amd64,linux/arm64/v8 -t wh1isper/sparglim-server:latest -f docker/Dockerfile.sparglim-server --push .
